(this.webpackJsonppart3fronted=this.webpackJsonppart3fronted||[]).push([[0],{38:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t(14),o=t.n(a),c=t(3),i=t(4),s=t.n(i),u={getAll:function(){return s.a.get("http://localhost:3001/api/persons")},newPerson:function(e){return s.a.post("/api/persons",e)},deletePerson:function(e){return s.a.delete("/api/persons/".concat(e))}},d=t(0),l=function(e){var n=e.nameToShow,t=e.handleFilterChange;return Object(d.jsxs)("div",{children:["filter shown with",Object(d.jsx)("input",{value:n,onChange:t})]})},j=function(e){var n=e.handleForm,t=e.newName,r=e.handleNameChange,a=e.newNumber,o=e.handleNumberChange;e.setPersons;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Add a new"}),Object(d.jsxs)("form",{onSubmit:n,children:[Object(d.jsxs)("div",{children:["name: ",Object(d.jsx)("input",{value:t,onChange:r})]}),Object(d.jsxs)("div",{children:["number: ",Object(d.jsx)("input",{value:a,onChange:o})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",children:"add"})})]})]})},b=function(e){var n=e.persons;e.setPersons;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Numbers"}),Object(d.jsx)("ul",{children:n.map((function(e){return Object(d.jsx)(h,{name:e.name,number:e.number,id:e.id},e.name)}))})]})},h=function(e){var n=e.name,t=e.number,r=e.id;return Object(d.jsxs)("li",{children:[n," ",t,Object(d.jsx)("button",{onClick:function(){window.confirm("Are you sure you want to delete?"),u.deletePerson(r),window.location.reload()},children:"delete"})]})},m=function(e){var n=e.name;return""===n?null:Object(d.jsxs)("div",{style:{color:"green",background:"lightgrey",padding:10,borderRadius:5,borderStyle:"solid",margin:5,fontSize:25},children:["Added ",n]})},f=function(){var e=Object(r.useState)([]),n=Object(c.a)(e,2),t=n[0],a=n[1],o=Object(r.useState)(""),i=Object(c.a)(o,2),s=i[0],h=i[1],f=Object(r.useState)(""),O=Object(c.a)(f,2),v=O[0],p=O[1],x=Object(r.useState)(""),g=Object(c.a)(x,2),w=g[0],C=g[1],S=Object(r.useState)(""),N=Object(c.a)(S,2),y=N[0],P=N[1],k=t.filter((function(e){return e.name.toLocaleLowerCase().includes(w.toLocaleLowerCase())}));Object(r.useEffect)((function(){u.getAll().then((function(e){a(e.data)}))}),[]);return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Phonebook"}),Object(d.jsx)(m,{name:y}),Object(d.jsx)(l,{nameToShow:w,handleFilterChange:function(e){C(e.target.value)}}),Object(d.jsx)(j,{handleForm:function(e){if(e.preventDefault(),void 0!==t.find((function(e){return e.name===s})))return alert("".concat(s," is already in phonebook")),h(""),void p("");var n=t.length+1;t.forEach((function(e){e.id===n&&(n+=1)}));var r={name:s,number:v,id:n};u.newPerson(r),P(s),h(""),p(""),setTimeout((function(){P("")}),3e3),setTimeout((function(){window.location.reload()}),4e3)},newName:s,handleNameChange:function(e){h(e.target.value)},newNumber:v,handleNumberChange:function(e){p(e.target.value)}}),Object(d.jsx)(b,{persons:k})]})};o.a.render(Object(d.jsx)(f,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.f49841c0.chunk.js.map