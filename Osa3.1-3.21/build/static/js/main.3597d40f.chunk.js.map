{"version":3,"sources":["services/notes.js","App.js","index.js"],"names":["NoteService","getAll","axios","get","newPerson","newObject","post","SearchBar","nameToShow","handleFilterChange","value","onChange","PersonForm","handleForm","newName","handleNameChange","newNumber","handleNumberChange","setPersons","onSubmit","type","Persons","persons","map","person","name","number","id","Person","onClick","window","confirm","delete","then","response","console","log","data","location","reload","Notification","style","color","background","padding","borderRadius","borderStyle","margin","fontSize","App","useState","setNewName","setNewNumber","setNameToShow","notificationName","setNotificationName","personsToShow","filter","toLocaleLowerCase","includes","useEffect","event","target","preventDefault","undefined","find","element","alert","forEach","put","length","personObject","concat","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3597d40f.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst getAll = () => {\r\n    return axios.get('/api/persons')\r\n}\r\n\r\nconst newPerson = (newObject) => {\r\n    return axios.post('/api/persons', newObject)\r\n}\r\n\r\nconst NoteService = {\r\n    getAll,\r\n    newPerson\r\n}\r\n\r\nexport default NoteService;","import axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport NoteService from './services/notes'\n\nconst App = () => {\n  const [persons, setPersons] = useState(\n    []\n  );\n  const [newName, setNewName] = useState(\n    ''\n  );\n  const [newNumber, setNewNumber] = useState(\n    ''\n  );\n  const [nameToShow, setNameToShow] = useState(\n    ''\n  )\n  const [notificationName, setNotificationName] = useState(\n    ''\n  )\n  const personsToShow = persons.filter(person => person.name.toLocaleLowerCase().includes(nameToShow.toLocaleLowerCase()))\n\n  useEffect(() => {\n    NoteService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const handleForm = (event) => {\n    event.preventDefault();\n    if(persons.find(element => element.name === newName) !== undefined){\n      alert(`${newName} is already in phonebook, replace the old number with a new one?`)\n      persons.forEach(person => {\n        if(person.name === newName){\n          const newObject = {...person, number: newNumber}\n          axios\n            .put(`http://localhost:3001/persons/${newObject.id}`, newObject)\n        }\n      })\n      setNewName('')\n      setNewNumber('')\n      window.location.reload()\n      return;\n    }\n    let id = persons.length + 1\n    persons.forEach(element => {\n      if(element.id === id){\n        id += 1\n      }\n    })\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: id\n    }\n    console.log(personObject)\n    NoteService\n      .newPerson(personObject)\n      .then(response => {\n        setPersons(persons.concat(response.data))\n      })\n    setNotificationName(newName)\n    setNewName('');\n    setNewNumber('');\n    setTimeout(() => {\n      setNotificationName('')\n    }, 3000)\n  }\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n  const handleFilterChange = (event) => {\n    setNameToShow(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification name={notificationName} />\n      <SearchBar nameToShow={nameToShow} handleFilterChange={handleFilterChange} />\n      <PersonForm handleForm={handleForm} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <Persons persons={personsToShow} />\n    </div>\n  );\n}\n\nconst SearchBar = ({ nameToShow, handleFilterChange }) => {\n  return (\n    <div>\n    filter shown with\n    <input\n      value={nameToShow}\n      onChange={handleFilterChange}\n    />\n    </div>\n  )\n}\n\nconst PersonForm = ({ handleForm, newName, handleNameChange, newNumber, handleNumberChange, setPersons }) => {\n  return (\n    <div>\n    <h2>Add a new</h2>\n    <form onSubmit={handleForm}>\n      <div>\n        name: <input\n                value={newName}\n                onChange={handleNameChange}\n              />\n      </div>\n      <div>\n        number: <input\n                  value={newNumber}\n                  onChange={handleNumberChange}\n                />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  </div>\n  );\n}\n\nconst Persons = ({ persons, setPersons }) => {\n  return (\n    <div>\n      <h2>Numbers</h2>\n      <ul>\n        {persons.map(person => <Person name={person.name} number={person.number} key={person.name} id={person.id} />)}\n      </ul>\n    </div>\n  );\n}\n\nconst Person = ({ name, number, id }) => {\n  return <li>{name} {number} \n    <button onClick={() => {\n      window.confirm('Are you sure you want to delete?')\n        axios\n          .delete(`http://localhost:3001/persons/${id}`)\n          .then(response => {\n            console.log(response.data)\n          })\n      window.location.reload()   \n      }\n   }\n  >\n    delete\n    </button></li>\n}\n\nconst Notification = ({ name }) => {\n  const notificationStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    padding: 10,\n    borderRadius: 5,\n    borderStyle: 'solid',\n    margin: 5,\n    fontSize: 25\n  }\n  if(name === ''){\n    return null\n  }\n\n  return (\n    <div style={notificationStyle}>\n      Added {name}\n    </div>\n  )\n}\n\nexport default App;","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}