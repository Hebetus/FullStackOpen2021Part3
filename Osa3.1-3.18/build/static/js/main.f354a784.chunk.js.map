{"version":3,"sources":["services/notes.js","App.js","index.js"],"names":["NoteService","getAll","axios","get","newPerson","newObject","post","deletePerson","id","delete","SearchBar","nameToShow","handleFilterChange","value","onChange","PersonForm","handleForm","newName","handleNameChange","newNumber","handleNumberChange","setPersons","onSubmit","type","Persons","persons","map","person","name","number","Person","onClick","window","confirm","location","reload","Notification","style","color","background","padding","borderRadius","borderStyle","margin","fontSize","ErrorNotification","errorText","App","useState","setNewName","setNewNumber","setNameToShow","notificationName","setNotificationName","errorNotificationName","setErrorNotificationName","personsToShow","filter","toLocaleLowerCase","includes","useEffect","then","response","data","event","target","preventDefault","undefined","find","element","alert","length","forEach","personObject","console","log","setTimeout","catch","error","message","substring","indexOf","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f354a784.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst getAll = () => {\r\n    return axios.get('/api/persons')\r\n}\r\n\r\nconst newPerson = (newObject) => {\r\n    return axios.post('/api/persons', newObject)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`/api/persons/${id}`)\r\n}\r\n\r\nconst NoteService = {\r\n    getAll,\r\n    newPerson,\r\n    deletePerson\r\n}\r\n\r\nexport default NoteService;","import axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport NoteService from './services/notes'\n\nconst App = () => {\n  const [persons, setPersons] = useState(\n    []\n  );\n  const [newName, setNewName] = useState(\n    ''\n  );\n  const [newNumber, setNewNumber] = useState(\n    ''\n  );\n  const [nameToShow, setNameToShow] = useState(\n    ''\n  )\n  const [notificationName, setNotificationName] = useState(\n    ''\n  )\n  const [errorNotificationName, setErrorNotificationName] = useState(\n    ''\n  )\n  \n  const personsToShow = persons.filter(person => person.name.toLocaleLowerCase().includes(nameToShow.toLocaleLowerCase()))\n\n  useEffect(() => {\n    NoteService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const handleForm = (event) => {\n    event.preventDefault();\n    if(persons.find(element => element.name === newName) !== undefined){\n      alert(`${newName} is already in phonebook`)\n      setNewName('')\n      setNewNumber('')\n      return;\n    }\n    let id = persons.length + 1\n    persons.forEach(element => {\n      if(element.id === id){\n        id += 1\n      }\n    })\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: id\n    }\n    NoteService\n      .newPerson(personObject)\n      .then(response => {\n        console.log(response.data)\n        setNotificationName(newName)\n        setNewName('');\n        setNewNumber('');\n        setTimeout(() => {\n          setNotificationName('')\n        }, 3000)\n        setTimeout(() => {\n          window.location.reload()\n        }, 4000)\n      })\n      .catch(error => {\n        const message = error.response.data\n        console.log(message.substring(message.indexOf('<pre>') + 5, message.indexOf('<br>')))\n        setErrorNotificationName(message.substring(message.indexOf('<pre>') + 5, message.indexOf('<br>')))\n        setNewName('');\n        setNewNumber('');\n        setTimeout(() => {\n          setErrorNotificationName('')\n        }, 6000)\n      })\n  }\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n  const handleFilterChange = (event) => {\n    setNameToShow(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification name={notificationName} />\n      <ErrorNotification errorText={errorNotificationName} />\n      <SearchBar nameToShow={nameToShow} handleFilterChange={handleFilterChange} />\n      <PersonForm handleForm={handleForm} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <Persons persons={personsToShow} />\n    </div>\n  );\n}\n\nconst SearchBar = ({ nameToShow, handleFilterChange }) => {\n  return (\n    <div>\n    filter shown with\n    <input\n      value={nameToShow}\n      onChange={handleFilterChange}\n    />\n    </div>\n  )\n}\n\nconst PersonForm = ({ handleForm, newName, handleNameChange, newNumber, handleNumberChange, setPersons }) => {\n  return (\n    <div>\n    <h2>Add a new</h2>\n    <form onSubmit={handleForm}>\n      <div>\n        name: <input\n                value={newName}\n                onChange={handleNameChange}\n              />\n      </div>\n      <div>\n        number: <input\n                  value={newNumber}\n                  onChange={handleNumberChange}\n                />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  </div>\n  );\n}\n\nconst Persons = ({ persons, setPersons }) => {\n  return (\n    <div>\n      <h2>Numbers</h2>\n      <ul>\n        {persons.map(person => <Person name={person.name} number={person.number} key={person.name} id={person.id} />)}\n      </ul>\n    </div>\n  );\n}\n\nconst Person = ({ name, number, id }) => {\n  return <li>{name} {number} \n    <button onClick={() => {\n      window.confirm('Are you sure you want to delete?')\n        NoteService\n          .deletePerson(id)\n      window.location.reload()   \n      }\n   }\n  >\n    delete\n    </button></li>\n}\n\nconst Notification = ({ name }) => {\n  const notificationStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    padding: 10,\n    borderRadius: 5,\n    borderStyle: 'solid',\n    margin: 5,\n    fontSize: 25\n  }\n  if(name === ''){\n    return null\n  }\n\n  return (\n    <div style={notificationStyle}>\n      Added {name}\n    </div>\n  )\n}\n\nconst ErrorNotification = ({ errorText }) => {\n  const errNotificationStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    padding: 10,\n    borderRadius: 5,\n    borderStyle: 'solid',\n    margin: 5,\n    fontSize: 25\n  }\n  if(errorText === ''){\n    return null\n  }\n\n  return (\n    <div style={errNotificationStyle}>\n      {errorText}\n    </div>\n  )\n}\n\nexport default App;","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}